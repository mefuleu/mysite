{% extends 'base.html' %}

{% block headtitle %}
    听音乐
{% endblock %}

{% block bodytitle %}
    看累了吗？听听音乐，放松一下
{% endblock %}

{% block leftnav %}
    <li>
		<a href="{% url 'showHome' %}">首页</a>
    </li>
    <li>
        <a href="{% url 'showArticle' %}">look look</a>
    </li>
{% endblock %}

{% block rightnav %}
    <ul class="breadcrumb">
        <li>
            <a class="btn btn-default" href="#" role="button">登录</a>
        </li>
        <li>
            <a class="btn btn-default" href="#" role="button">注册</a>
        </li>
    </ul>
{% endblock %}

{% block leftcontent %}
    <p>一共有{{ music|length }}首音乐</p>
    {% for eachmusic in page_of_music %}
        <a href="{% url 'detailMusic' eachmusic.name %}">
            <h3>{{ eachmusic.name }}</h3>
        </a>
        <p>{{ eachmusic.singer }}...</p>
    {% empty %}
        暂无音乐，敬请期待
    {% endfor %}
    <ul class="pagination">
        {# 上一页 #}
        <li>
            {% if page_of_music.has_previous %}
                <a href="?page={{ page_of_music.pageprevious_page_number }}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            {% else %}
                <span aria-hidden="true">&laquo;</span>
            {% endif %}
        </li>
        {# 全部页码 #}
        {% for page_num in page_range %}
            {% if page_num == page_of_music.number %}
                <li class="active"><span>{{ page_num }}</span></li>
            {% else %}
                {% if page_num == '...' %}
                    <li><span>{{ page_num }}</span></li>
                {% else %}
                    <li><a href="?page={{ page_num }}">{{ page_num }}</a></li>
                {% endif %}
            {% endif %}
        {% endfor %}
        {# 下一页 #}
        <li>
            {% if page_of_music.has_next %}
                <a href="?page={{ page_of_music.next_page_number }}" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            {% else %}
                <span aria-hidden="true">&raquo;</span>
            {% endif %}
        </li>
    </ul>
{% endblock %}

{% block filter %}
    <p>音乐分类</p>
    {% for type in types %}
            <p><a href="{% url 'typeMusic' type.name %}">{{ type.name }}</a></p>
    {% empty %}
        暂无分类
    {% endfor %}
{% endblock %}